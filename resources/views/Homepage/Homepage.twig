{% extends getPartial('page-design') %}

{% import "CeresCoconut::PageDesign.Macros.LayoutContainer" as LayoutContainer %}

{% set showDefaultHomepage = config("Ceres.default.homepage") %}
{% set companyLogo  = config("Ceres.header.company_logo") %}
{% set companyName  = config("Ceres.header.company_name") %}

{% block PartialHead %}
    <meta name="description" content="{{ trans('Ceres::Template.homepageMetaDescription') }}">
    <meta name="robots" content="{{ config("Ceres.meta.robots_home") }}">

    <meta property="og:title" content="{{ companyName }}"/>
    <meta property="og:type" content="article"/>
    <meta property="og:url" content="{{ services.webstoreConfig.getWebstoreConfig().domainSsl }}"/>
    <meta property="og:image"
          content="{% if ('http' in companyLogo) or ('layout/' in companyLogo) %}{{ companyLogo }}{% else %}{{ plugin_path('Ceres') }}/{{ companyLogo }}{% endif %}"/>

    <script type="application/ld+json">
        {"@context": "http://schema.org","@type": "WebSite","url": "{{ services.webstoreConfig.getWebstoreConfig().domainSsl }}","potentialAction":{"@type": "SearchAction","target": "{{ services.webstoreConfig.getWebstoreConfig().domainSsl }}/search?query={search_term}","query-input": "required name=search_term"}}
    </script>

    <title>{{ companyName }} - {{ trans('Ceres::Template.homepageMetaDescription') }} </title>
{% endblock %}

{% block PageBody %}
    <div id="ETCeres_Homepage_Debug1">
      Homepage.twig
    </div>

    {% if ceresConfig.homepage.showShopBuilderContent or request.get('isContentBuilder') == 1 %}

         <div class="home container-max">
            <div class="row">
                <div class="col">
                    {% for content in container("CeresCoconut::Homepage") if content.plugin == "Plenty" %}
                        {{ content.result|raw }}
                    {% endfor %}
                </div>
            </div>
        </div>

     {% else %}

         {% if showDefaultHomepage == "true" %}
            {% include 'CeresCoconut::Homepage.MarketingHomepageETC.twig' %}
        {% else %}
            {% block ThemeHomepage %}
                {% include 'CeresCoconut::Homepage.DefaultHomepage.twig' %}
            {% endblock %}
        {% endif %}

     {% endif %}


{% endblock %}
